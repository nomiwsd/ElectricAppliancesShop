<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Electrical Appliances</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg  navbar-bg">
        <div class="container-fluid">
            <a class="navbar-brand" href="index.html">
                <img src="./assets/logo.png" alt="" class="navbar-logo">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"
                aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#products">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#categories">Categories</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact Us</a>
                    </li>

                </ul>
                <div class="d-flex justify-between align-center gap-3">
                    <a class="btn btn-primary" href="login.html">Login</a>
                    <a class="btn btn-primary" href="signup.html">Signup</a>
                </div>
            </div>
        </div>
    </nav>
    <main>
        <!-- Hero Section -->
        <section id="home" class="hero-section">
            <div class="hero-overlay">
                <div class="hero-content text-center">
                    <h1 class="">Welcome to Heaven Tech</h1>
                    <p class="">Your one-stop shop for all electrical appliances</p>
                    <a href="#products" class="btn btn-cl btn-lg">Shop Now</a>
                </div>
            </div>
        </section>
        <!-- About Section -->
        <section id="about" class="container my-5">
            <h2 class="text-center section-title">About Us</h2>
            <div class="row">
                <div class="col-md-6">
                    <img src="./assets/aboutus.jpg" alt="About Us" class="img-fluid rounded">
                </div>
                <div class="col-md-6">
                    <p class="text-left">
                        At HeavenTech, we are committed to providing high-quality electrical appliances that make
                        your life easier and more convenient. With years of experience in the industry, we pride
                        ourselves on our exceptional customer service and wide range of products.
                    </p>
                    <h4 class="mt-4">Our Mission</h4>
                    <p>
                        Our mission is to deliver innovative and reliable appliances that improve the quality of life
                        for our customers. We strive to offer products that combine cutting-edge technology with ease of
                        use.
                    </p>
                    <h4 class="mt-4">Our Values</h4>
                    <ul>
                        <li>Quality: We prioritize top-notch quality in all our products.</li>
                        <li>Customer Satisfaction: Our customers are at the heart of everything we do.</li>
                        <li>Innovation: We continuously seek to innovate and improve our product offerings.</li>
                        <li>Integrity: We conduct our business with the highest ethical standards.</li>
                    </ul>
                </div>
            </div>
            <div>
                <h4 class="mt-4 text-center">Why Choose Us?</h4>
                <p class="text-center">
                    Choosing Appliance Store means choosing reliability, quality, and excellent service. Our
                    knowledgeable
                    staff is always ready to assist you in finding the perfect appliances for your needs.
                </p>
            </div>
        </section>
        <section id="categories" class="container my-5">
            <h2 class="text-center section-title">Categories</h2>
            <div class="row">
                <div class="col-md-4 mb-4">
                    <div class="card category-card text-center">
                        <div class="card-body">
                            <h5 class="card-title">Kitchen Appliances</h5>
                            <p class="card-text">Explore our range of kitchen appliances.</p>
                            <a href="#" class="btn btn-primary">View Products</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card category-card text-center">
                        <div class="card-body">
                            <h5 class="card-title">Home Electronics</h5>
                            <p class="card-text">Discover our collection of home electronics.</p>
                            <a href="#" class="btn btn-primary">View Products</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="card category-card text-center">
                        <div class="card-body">
                            <h5 class="card-title">Personal Care</h5>
                            <p class="card-text">Browse through our personal care appliances.</p>
                            <a href="#" class="btn btn-primary">View Products</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    <!-- Product Section -->
    <section id="products" class="container my-5">
        <h2 class="text-center section-title">Our Products</h2>
        <div class="row" id="productsList">
            <!-- Product cards will be dynamically inserted here -->
        </div>
    </section>

    <!-- Buy Now Modal -->
    <div class="modal fade" id="buyNowModal" tabindex="-1" aria-labelledby="buyNowModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="buyNowModalLabel">Buy Product</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="buyNowForm">
                        <div class="mb-3">
                            <label for="fullName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="fullName" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="phoneNumber" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="phoneNumber" required>
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label">Address</label>
                            <textarea class="form-control" id="address" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="quantity" class="form-label">Quantity</label>
                            <div class="input-group">
                                <button class="btn btn-outline-secondary" type="button" id="decreaseQuantity">-</button>
                                <input type="number" class="form-control" id="quantity" value="1" min="1" required>
                                <button class="btn btn-outline-secondary" type="button" id="increaseQuantity">+</button>
                            </div>
                        </div>
                        <input type="hidden" id="productId">
                        <input type="hidden" id="productName">
                        <input type="hidden" id="productPrice">
                        <button type="submit" class="btn btn-primary">Buy Now</button>
                    </form>
                </div>
            </div>
        </div>
    </div>


        <section id="contact" class="container my-5">
            <h2 class="text-center section-title">Contact Us</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <form>
                        <div class="form-group my-4">
                            <label for="name">Name</label>
                            <input type="text" class="form-control" id="name" placeholder="Enter your name">
                        </div>
                        <div class="form-group my-4">
                            <label for="email">Email address</label>
                            <input type="email" class="form-control" id="email" placeholder="Enter your email">
                        </div>
                        <div class="form-group my-4">
                            <label for="message">Message</label>
                            <textarea class="form-control" id="message" rows="5"
                                placeholder="Enter your message"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block my-4">Submit</button>
                    </form>
                </div>
            </div>
        </section>

    </main>
    <!-- Footer -->
    <footer class="footer text-center py-4">
        <div class="container">
            <p class="mb-0">&copy; 2024 Heaven Tech. All Rights Reserved.</p>
        </div>
    </footer>


    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
            import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
            import { getFirestore, collection, getDocs, addDoc,serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
    
            // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyDaGtAD6D8LcIMipyQbM24ofCPVsgg3Unc",
                authDomain: "ecommerce-webapp-d7f39.firebaseapp.com",
                projectId: "ecommerce-webapp-d7f39",
                storageBucket: "ecommerce-webapp-d7f39.appspot.com",
                messagingSenderId: "1095566717393",
                appId: "1:1095566717393:web:809ce4b8b1474221d9b0f0",
                measurementId: "G-1N308KBV5S"
            };
    
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);
    
            // Load products and display them
            async function loadProducts() {
                const productsList = document.getElementById('productsList');
                productsList.innerHTML = '';
    
                const querySnapshot = await getDocs(collection(db, 'products'));
                querySnapshot.forEach((doc) => {
                    const product = doc.data();
    
                    const productCard = document.createElement('div');
                    productCard.className = 'col-md-4 my-2';
                    productCard.innerHTML = `
                        <div class="card product-card">
                            <img src="${product.imageUrl}" class="card-img-top" alt="${product.name}">
                            <div class="card-body">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text">${product.description}</p>
                                <p class="card-text"><strong>Price:</strong> $${product.price.toFixed(2)}</p>
                                <button class="btn btn-primary buy-now-btn" data-product-id="${doc.id}" data-product-name="${product.name}" data-product-price="${product.price}">Buy Now</button>
                            </div>
                        </div>
                    `;
                    productsList.appendChild(productCard);
                });
    
                // Attach event listeners to the Buy Now buttons
                document.querySelectorAll('.buy-now-btn').forEach(button => {
                    button.addEventListener('click', openBuyNowModal);
                });
            }
    
            // Open Buy Now Modal
            function openBuyNowModal(event) {
                const button = event.currentTarget;
                const productId = button.getAttribute('data-product-id');
                const productName = button.getAttribute('data-product-name');
                const productPrice = button.getAttribute('data-product-price');
    
                document.getElementById('productId').value = productId;
                document.getElementById('productName').value = productName;
                document.getElementById('productPrice').value = productPrice;
    
                const buyNowModal = new bootstrap.Modal(document.getElementById('buyNowModal'));
                buyNowModal.show();
            }
    
            // Increase and Decrease Quantity
            document.getElementById('increaseQuantity').addEventListener('click', () => {
                const quantityInput = document.getElementById('quantity');
                quantityInput.value = parseInt(quantityInput.value) + 1;
            });
    
            document.getElementById('decreaseQuantity').addEventListener('click', () => {
                const quantityInput = document.getElementById('quantity');
                if (quantityInput.value > 1) {
                    quantityInput.value = parseInt(quantityInput.value) - 1;
                }
            });
    
            // Handle Buy Now Form Submission
            document.getElementById('buyNowForm').addEventListener('submit', async (event) => {
                event.preventDefault();
    
                const fullName = document.getElementById('fullName').value;
                const email = document.getElementById('email').value;
                const phoneNumber = document.getElementById('phoneNumber').value;
                const address = document.getElementById('address').value;
                const quantity = document.getElementById('quantity').value;
                const productId = document.getElementById('productId').value;
                const productName = document.getElementById('productName').value;
                const productPrice = document.getElementById('productPrice').value;
    
                try {
                    await addDoc(collection(db, 'orders'), {
                        fullName,
                        email,
                        phoneNumber,
                        address,
                        quantity: parseInt(quantity),
                        productId,
                        productName,
                        productPrice: parseFloat(productPrice),
                        createdAt: serverTimestamp()
                    });
    
                    // Close the modal
                    const buyNowModal = bootstrap.Modal.getInstance(document.getElementById('buyNowModal'));
                    buyNowModal.hide();
    
                    // Clear the form
                    document.getElementById('buyNowForm').reset();
    
                    alert('Order placed successfully!');
                } catch (error) {
                    console.error('Error adding document: ', error);
                    alert('Error placing order. Please try again.');
                }
            });
    
            // Load products on page load
            loadProducts();
        </script>
</body>

</html>